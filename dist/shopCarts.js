!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=2)}({2:function(t,e){new Vue({el:"#cart-app",data:{items:[],filterItems:[],searchName:"",pages:"",showItem:"",beginItem:0,endItem:10,currentPage:1,carts:[],type:1},mounted(){this.getProItems()},computed:{amount(){let t=0;if(this.carts.length>0)for(let e=0;e<this.carts.length;e++){t+=this.carts[e].price*this.carts[e].count}return t},countOfPage(){if(!this.pages){let t=this.items.length;this.showItem=10;let e=this.showItem,s=t%e==0?t/e:Math.ceil(t/e);return this.pages=s,this.pages}if(""!==this.page)return this.pages}},watch:{},methods:{addItem(t){-1===this.carts.indexOf(t)&&(this.carts.push(t),this.$set(t,"count",1))},remove(t){if(1===t.count||void 0===t.count){let e=this.carts.indexOf(t);this.carts.splice(e,1)}else t.count--},filterProduct(t){if(1===t){let t=[];for(let e=this.beginItem;e<this.endItem;e++)t.push(this.items[e]);return t}if(2===t){let t=[];for(let e=this.beginItem;e<this.endItem;e++)void 0!==this.filterItems[e]&&t.push(this.filterItems[e]);return t}},search(){if(""!==this.searchName){this.type=2,this.filterItems=this.items.filter(t=>-1!==t.name.indexOf(this.searchName));let t=this.showItem,e=this.filterItems,s=e.length%t==0?e.length/t:Math.ceil(e.length/t);this.pages=s}},switchPage(t){t>1?(this.currentPage=t,this.beginItem=t*this.showItem-this.showItem,this.endItem=t*this.showItem):1===t&&(this.currentPage=t,this.beginItem=0,this.endItem=10)},previous(){this.currentPage>1&&(this.currentPage--,this.beginItem=this.beginItem-this.showItem,this.endItem=this.endItem-this.showItem)},next(){this.currentPage<this.pages&&(this.currentPage++,this.beginItem=this.beginItem+this.showItem,this.endItem=this.endItem+this.showItem)},getProItems:function(){axios.get("./data/pros-list.json").then(t=>{this.items=t.data})},checkout(){if(this.carts.length>0){let t={};t.item=this.carts;let e=this;$.post("/user/checkout",t,function(t){t.success&&(e.carts=[],alert(t.message))})}else alert("購物車沒有商品")}}})}});
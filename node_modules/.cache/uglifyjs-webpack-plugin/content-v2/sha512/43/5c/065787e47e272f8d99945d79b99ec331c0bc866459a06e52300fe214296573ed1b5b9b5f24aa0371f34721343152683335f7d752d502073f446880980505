{"code":"!function(t){var e={};function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=6)}({6:function(t,e,n){\"use strict\";var a=localStorage.getItem(\"internationalization\"),s=void 0;s=a?(a=JSON.parse(a)).language:\"zh-tw\",console.log(s);var i=new VueI18n({locale:s,messages:{en:{message:{signOut:\"sign out\",webTitle:\"online store\",productSearch:\"product search\",carts:\"carts\",amount:\"amount\",checkout:\"checkout\",addToCart:\"add to cart\",webName:\"shopping mall\",order:\"order\",profile:\"profile\"}},\"zh-tw\":{message:{signOut:\"登出\",webTitle:\"網路商城\",productSearch:\"商品搜尋\",carts:\"購物車\",amount:\"小計\",checkout:\"結帳\",addToCart:\"放入購物車\",webName:\"購物商城\",order:\"購物紀錄\",profile:\"會員修改\"}}}});Vue.component(\"nav-bar\",{template:'<nav class=\"navbar navbar-inverse\">\\n      <div class=\"container-fluid\">\\n        <div class=\"navbar-header\">\\n          <a class=\"navbar-brand\" href=\"#\">{{ $t(\"message.webName\") }}</a>\\n        </div>\\n        <ul class=\"nav navbar-nav navbar-right\">\\n          <li><a href=\"/user/order\"><span class=\"glyphicon glyphicon-shopping-cart\"></span>{{ $t(\"message.order\") }}</a></li>\\n          <li><a href=\"/user/edit\"><span class=\"glyphicon glyphicon-user\"></span>{{ $t(\"message.profile\") }}</a></li>\\n          <li><a href=\"/logout\"><span class=\"glyphicon glyphicon-log-out\"></span>{{ $t(\"message.signOut\") }}</a></li>\\n\\n\\n        </ul>\\n      </div>\\n    </nav>'}),Vue.component(\"product-item\",{template:'<div><div class=\"item\" v-for=\"product in filterProduct(type)\">\\n          <h2>編號 {{ product.index }}{{ product.name }}</h2>\\n          <img class=\"item-img img-responsive\" :src=\"product.picture\" :alt=\"product.imageType\">\\n          <p>{{ product.info }}</p>\\n          <p class=\"item-price \">${{ product.price }}</p>\\n          <a class=\"btn btn-primary \" @click.prevent=\"addCart(product)\" href=\"#\">{{ $t(\"message.addToCart\") }} <span class=\"glyphicon glyphicon-chevron-right \"></span></a>\\n        </div></div>',props:[\"filterItems\",\"items\",\"type\",\"beginItem\",\"endItem\"],methods:{filterProduct:function(t){if(1===t){for(var e=[],n=this.beginItem;n<this.endItem;n++)e.push(this.items[n]);return e}if(2===t){for(var a=[],s=this.beginItem;s<this.endItem;s++)void 0!==this.filterItems[s]&&a.push(this.filterItems[s]);return a}},addCart:function(t){this.$emit(\"update-add-cart\",t)}}}),Vue.component(\"pagination\",{template:'<ul class=\"pagination\">\\n          <li>\\n            <a href=\"#\" aria-label=\"Previous\" @click.prevent=\"previous\">\\n              <span aria-hidden=\"true\">&laquo;</span>\\n            </a>\\n          </li>\\n          <li v-for=\"page in countOfPage\">\\n            <a href=\"#\" @click.prevent=\"switchPage(page)\">{{ page }}</a>\\n          </li>\\n          <li>\\n            <a href=\"#\" aria-label=\"Next\" @click.prevent=\"next\">\\n              <span aria-hidden=\"true\">&raquo;</span>\\n            </a>\\n          </li>\\n        </ul>',props:[\"pages\",\"items\",\"currentPage\"],data:{},computed:{countOfPage:function(){if(!this.pages){var t,e=this.items.length;return t={showItem:10,pages:e%10==0?e/10:Math.ceil(e/10)},this.$emit(\"update-show-item\",t),this.pages}if(\"\"!==this.page)return this.pages}},methods:{previous:function(){this.currentPage>1&&this.$emit(\"update-previous\")},next:function(){this.currentPage<this.pages&&this.$emit(\"update-next\")},switchPage:function(t){this.$emit(\"update-switch-page\",t)}}}),Vue.component(\"search-bar\",{template:'<div class=\"well \">\\n          <h4>{{ $t(\"message.productSearch\") }}</h4>\\n          <div class=\"input-group \">\\n            <input type=\"text\" class=\"form-control\" v-model=\"searchName\">\\n            <span class=\"input-group-btn\">\\n                <button class=\"btn btn-default\" @click=\"search\"><span class=\"glyphicon glyphicon-search \"></span></button>\\n            </span>\\n          </div>\\n        </div>',props:[\"searchName\"],methods:{search:function(){this.$emit(\"update-search\",this.searchName)}}}),Vue.component(\"shopping-cart\",{template:'<div class=\"well cart\">\\n          <h4>{{ $t(\"message.carts\") }}</h4>\\n\\n          <ul class=\"itemsInCart \">\\n            <li v-for=\"cartProduct in carts\" :key=\"cartProduct.index\">\\n              <div class=\"cart-item\">\\n                <div class=\"cart-title\">{{ cartProduct.name }}</div> <span class=\"price\">{{ cartProduct.price }}</span> x\\n                <span class=\"count\">{{ cartProduct.count }}</span>\\n                <div class=\"handler\"><a href=\"#\" class=\"cart-btn plus\" @click.prevent=\"increase(cartProduct)\">+</a> <a href=\"#\" class=\"cart-btn minus\" @click.prevent=\"remove(cartProduct)\">-</a></div>\\n              </div>\\n            </li>\\n          </ul>\\n          <hr>\\n          <p>{{ $t(\"message.amount\") }}： <span>${{ amount }}</span></p>\\n          <p>\\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"checkout\">{{ $t(\"message.checkout\") }}</button>\\n          </p>\\n        </div>',props:[\"carts\"],computed:{amount:function(){var t=0;if(this.carts.length>0)for(var e=0;e<this.carts.length;e++){t+=this.carts[e].price*this.carts[e].count}return t}},methods:{increase:function(t){this.$emit(\"update-increase\",t)},remove:function(t){this.$emit(\"update-remove\",t)},checkout:function(){this.$emit(\"update-checkout\")}}});new Vue({el:\"#cart-app\",i18n:i,data:function(){return{items:[],filterItems:[],searchName:\"\",pages:\"\",showItem:\"\",beginItem:0,endItem:10,currentPage:1,carts:[],type:1}},mounted:function(){this.getProItems()},methods:{addItem:function(t){-1===this.carts.indexOf(t)&&(this.carts.push(t),this.$set(t,\"count\",1))},changeRemove:function(t){if(1===t.count||void 0===t.count){var e=this.carts.indexOf(t);this.carts.splice(e,1)}else this.carts.forEach(function(e){e.index===t.index&&e.count--})},changeSearch:function(t){var e=this;if(this.searchName=t,\"\"!==this.searchName){this.type=2,this.filterItems=this.items.filter(function(t){return-1!==t.name.indexOf(e.searchName)});var n=this.showItem,a=this.filterItems,s=a.length%n==0?a.length/n:Math.ceil(a.length/n);this.pages=s}},getProItems:function(){var t=this;axios.get(\"./data/pros-list.json\").then(function(e){t.items=e.data})},changeCheckout:function(){if(this.carts.length>0){var t={};t.item=this.carts;var e=this;$.post(\"/user/checkout\",t,function(t){t.success&&(e.carts=[],alert(t.message))})}else alert(\"購物車沒有商品\")},chagneShowItem:function(t){this.showItem=t.showItem,this.pages=t.pages},changePrevious:function(){this.currentPage--,this.beginItem=this.beginItem-this.showItem,this.endItem=this.endItem-this.showItem},changeNext:function(){this.currentPage++,this.beginItem=this.beginItem+this.showItem,this.endItem=this.endItem+this.showItem},changeSwitchPage:function(t){t>1?(this.currentPage=t,this.beginItem=t*this.showItem-this.showItem,this.endItem=t*this.showItem):1===t&&(this.currentPage=t,this.beginItem=0,this.endItem=10)},changeIncrease:function(t){this.carts.forEach(function(e){e.index===t.index&&e.count++})}}})}});","extractedComments":[]}